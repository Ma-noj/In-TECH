<!DOCTYPE html> 
<html> 
 
<head> 
    <title> 
        Table
    </title> 
	
</head> 
  
<body> 
      <b>Student Result Board</b> 
    <p id="dvTable"></p> 
	
    <script>  
       
         var mydata = [
		 {"name":"rajiv","marks":{"Maths":"18","English":"21","Science":"45" },"rollNumber":"KV2017-5A2"},
		 {"name":"abhishek","marks":{"Maths":"43","English":"30","Science":"37"},"rollNumber":"KV2017-5A1"},
		 {"name":"zoya","marks":{"Maths":"42","English":"31","Science":"50" },"rollNumber":"KV2017-5A3"}
		 ]
         //Comparer Function    
         function GetSortOrder(prop) {    
         return function(a, b) {    
        if (a[prop] > b[prop]) {    
            return 1;    
        } else if (a[prop] < b[prop]) {    
            return -1;    
        }    
        return 0;    
    }    
}    
    
mydata.sort(GetSortOrder("name")); //Pass the attribute to be sorted on  
var max=0; 
var green=0; 
for (var i=0;i<mydata.length;i++)
{
 var temp=parseInt(mydata[i].marks.Maths);
 temp+=parseInt(mydata[i].marks.English);
 temp+=parseInt(mydata[i].marks.Science);
 if (temp>max)
 {
  max=temp;
  green=i;
 }
 if( parseInt(mydata[i].marks.Maths)< 20 ||parseInt(mydata[i].marks.English)< 20 || parseInt(mydata[i].marks.Science)< 20 ) 
 { mydata[i].red=1; }
 else
 { mydata[i].red=0; }
 
 mydata[i].name=mydata[i].name.charAt(0).toUpperCase()+mydata[i].name.slice(1);

}

 //Create a HTML Table element.
        var table = document.createElement("TABLE");
        table.border = "1";
 
        //Add the header row.
        var row = table.insertRow(-1);
        var headerCell = document.createElement("TH");
		var cell = row.insertCell(-1);
        cell.innerHTML = "Name";
		cell.style.fontWeight = 'bold';
        var cell = row.insertCell(-1);
		cell.innerHTML = "RollNumber";
		cell.style.fontWeight = 'bold';
		var cell = row.insertCell(-1);
		cell.innerHTML = "Maths";
		cell.style.fontStyle = 'italic';
		cell.style.fontWeight = 'bold';
		var cell = row.insertCell(-1);
		cell.innerHTML = "English";
		cell.style.fontStyle = 'italic';
		cell.style.fontWeight = 'bold';
		var cell = row.insertCell(-1);
		cell.innerHTML = "Science";
		cell.style.fontStyle = 'italic';
		cell.style.fontWeight = 'bold';
		var cell = row.insertCell(-1);
		cell.innerHTML = "status";
		cell.style.fontWeight = 'bold';
        
        
 
        //Add the data rows.
        for (var i = 0; i < mydata.length; i++) {
            row = table.insertRow(-1);
            var cell = row.insertCell(-1);
            if(green==i)
			{
			  cell.innerHTML = mydata[i].name;
			  cell.style.color="green";
			}
			else{
			if(mydata[i].red==1)
			{
			  cell.innerHTML = mydata[i].name;
			  cell.style.color="red";
			}
			else
			{
			  cell.innerHTML = mydata[i].name;
			}
			}  
			var cell = row.insertCell(-1);
            cell.innerHTML = mydata[i].rollNumber;
			var cell = row.insertCell(-1);
            cell.innerHTML = mydata[i].marks.Maths;
			var cell = row.insertCell(-1);
            cell.innerHTML = mydata[i].marks.English;
			var cell = row.insertCell(-1);
            cell.innerHTML = mydata[i].marks.Science;
            var cell = row.insertCell(-1);
            if(green==i)
			{
			 cell.innerHTML = "Topper";
			}
			else
			{ 
			if(mydata[i].red==1)
			{
			 cell.innerHTML = "Fail";
			}
			else
			{
			 cell.innerHTML = "Pass";
			} 
			}
        }
 
        var dvTable = document.getElementById("dvTable");
        dvTable.innerHTML = "";
        dvTable.appendChild(table);
</script> 
</body> 
  
</html> 